/*
	UIZE JAVASCRIPT FRAMEWORK 2012-02-04

	http://www.uize.com/reference/Uize.html
	Available under MIT License or GNU General Public License -- http://www.uize.com/license.html
*/
(function(){var _a=Uize=function(){},_b,_c='string',_d='object',_e='number',_f='boolean',_g=Function,_h=Array,_i=false,_j=true,_k=null;var _l=0,_m=[],_n='[#modulePath]',_o,_p= !!_h.forEach,_q= !!(_h.indexOf&&_h.lastIndexOf),_r={},_s={Uize:_a};function _t(_u){return(_v(_u)?_u:_u?{constructor:_b,toLocaleString:_b,toString:_b,valueOf:_b}:{});}function _w(_x,_y){var _z=_x[0];if(_v(_z)){var _A=_x[1],_B=_x.length;_v(_A)&&_y(_z,_A);if(_B>2){for(var _C=1;++_C<_B;)_v(_A=_x[_C])&&_y(_z,_A);;}}return _z;}_a.capFirstChar=function(_D){return _D.charAt(0).toUpperCase()+_D.slice(1);};var _E=_a.clone=function(_F){if(_F==_b)return _F;var _G=typeof _F;if(_G==_c||_G==_e||_G==_f||_H(_F))return _F;var _I=_F.constructor;if(_I==Date||_I==String||_I==Number||_I==Boolean){return new _I(_F.valueOf())}else if(_I==RegExp){return new RegExp(_F.source,(_F.global?'g':'')+(_F.ignoreCase?'i':'')+(_F.multiline?'m':''));};var _J=_I==Object,_K= !_J&&_L(_F);if(_J||_K){var _M,_N,_O=_J?{}:[];if(_K)_O.length=_F.length;for(var _P in _F)_O[_P]=
(_N=typeof(_M=_F[_P]))==_c||_N==_e||_N==_f||_M==_b?_M:_E(_M);return _O;}return _F;};var _Q=_a.constrain=function(_F,_R,_S){return(_R<_S?(_F<_R?_R:_F>_S?_S:_F):(_F<_S?_S:_F>_R?_R:_F));};_a.inRange=function(_F,_R,_S){return _F==_a.constrain(_F,_R,_S);};var _T=_a.copyInto=function(){return _w(arguments,function(_z,_A){for(var _U in _A)_z[_U]=_A[_U];});};Uize.mergeInto=function(){function _V(_z,_A){var _W,_X;for(var _U in _A)(_Y(_X=_A[_U])&&_Y(_W=_z[_U]))?_V(_W,_X):(_z[_U]=_X);}return _w(arguments,_V);};var _Z=_a.forEach=function(_0,_1,_2,_3){if(_0){var _4=_L(_0);if(!_4||_0.length){if(typeof _1==_c)_1=new _g('value','key','source',_1);if(_4){if(_p&& !_3){_0.forEach(_1,_2);}else{for(var _5= -1,_6=_0.length;++_5<_6;)(_3||_5 in _0)&&_1.call(_2,_0[_5],_5,_0);}}else if(_v(_0)){for(var _5 in _0)_1.call(_2,_0[_5],_5,_0);}else if(typeof _0==_e){for(var _5= -1;++_5<_0;)_1.call(_2,_5,_5,_0);}}}};var _7=_a.map=function(_0,_8,_9){if(typeof _0==_e){_0=new _h(_0);if(typeof _9!=_d)_9=_0;}if(typeof _9!=_d)
_9=_9===_i?_0:_L(_0)?[]:{};if(typeof _8==_c)_8=new _g('value','key','return '+_8);_Z(_0,function(_F,_ba){var _bb=_8.call(_0,_F,_ba);if(_9)_9[_ba]=_bb;},0,_j);return _9;};_a.callOn=function(_9,_bc,_bd){var _be=_bf(_bc),_bg= !_be&&_H(_bc);_bd||(_bd=_m);function _bh(_9){if(_9!=_b)_Y(_9)||_L(_9)?_Z(_9,_bh,0,_j):_bg||(_be&&_H(_9[_bc]))?(_bg?_bc:_9[_bc]).apply(_9,_bd):0;}if(_be||_bg)_bh(_9);};_a.defaultNully=function(_F,_bi){return _F!=_b?_F:_bi;};var _bj=_a.getModuleByName=function(_bk){var _bl;return(_s[_bk]||(_bk=='*'&&_s)||((_bl=(new _g('try {return '+_bk+'} catch (e) {}'))())&&(_s[_bk]=_bl)));};_a.indexIn=function(_0,_F,_bm,_bn){var _bo=_bp(_0),_O= -1;if(_bo||_v(_0)){var _bq=_bo?_0:_br(_0);if((_bn=_bn!==_i)&&_q){_O=_h[_bm?'lastIndexOf':'indexOf'](_bq,_F);}else{for(var _bs=_bq.length,_5=_bm?_bs: -1,_bt=_bm? -1:1;--_bs>=0;){var _bu=_bq[_5+=_bt];if(_bn?_bu===_F:_bu==_F){_O=_5;break;}}}if(!_bo&&_O> -1)_O=_bv(_0)[_O];}return _O;};var _bv=_a.keys=function(_bw){var _O=[];if(!_bf(_bw))for(var _ba in _bw)_O.push(_ba);
return _O;};_a.totalKeys=function(_bw){var _O=0;if(!_bf(_bw))for(var _ba in _bw)_O++;return _O;};var _br=_a.values=values=function(_bw){if(_L(_bw))return _bw;var _O=[];if(!_bf(_bw))for(var _ba in _bw)_O.push(_bw[_ba]);return _O;};_a.meldKeysValues=function(_bv,_br){var _O={};for(var _bx= -1,_by=Math.min(_bv.length,_br.length);++_bx<_by;)_O[_bv[_bx]]=_br[_bx];return _O;};_a.min=function(_bw){return Math.min.apply(0,_br(_bw));};_a.max=function(_bw){return Math.max.apply(0,_br(_bw));};_a.reverseLookup=function(_bw,_u){var _bz=_t(_u);if(!_bf(_bw))for(var _ba in _bw)_bz[_bw[_ba]+'']=_ba;return _bz;};_a.lookup=function(_br,_bA,_u){var _bz=_t(_u);if(arguments.length==1)_bA=_j;if(_br!=_b){for(var _bB= -1,_bC=_br.length;++_bB<_bC;)_bz[_br[_bB]]=_bA;}return _bz;};var _v=_a.isObject=function(_F){return!!_F&&typeof _F==_d;};var _Y=_a.isPlainObject=function(_F){return(_F!=_b&&(_F.constructor==Object||_F.constructor.prototype.hasOwnProperty('hasOwnProperty')));};var _L=_a.isArray=function(_F){
return _F instanceof Array||(!!_F&&_H(_F.splice));};var _bp=_a.isList=function(_F){return _v(_F)&&typeof _F.length==_e;};var _H=_a.isFunction=function(_F){var _I=_F!=_b&&_F.constructor;return!!(_I&&_I==_I.constructor);};_a.isNumber=function(_F){return typeof _F==_e&&_F===_F;};var _bf=_a.isString=function(_F){return typeof _F==_c;};_a.isBoolean=function(_F){return typeof _F==_f;};_a.isNully=function(_F){return _F==_b;};var _bD=_a.isPrimitive=function(_F){if(_F==_b)return _i;var _G=typeof _F;return _G==_c||_G==_e||_G==_f;};_a.isIn=function(_0,_F,_bn){return _a.indexIn(_0,_F,_i,_bn)!== -1;};_a.isEmpty=function(_bw){if(_v(_bw)&&_v(_bw=_bw.valueOf())){if(_L(_bw))return!_bw.length;for(var _ba in _bw)return _i;return _j;}return!_bw;};_a.isNaN=function(_F){return _F!==_F;};_a.isSameAs=function(_F,_bE){return _F===_bE||(_F!==_F&&_bE!==_bE);};_a.emptyOut=function(_0){if(_v(_0)){if(_L(_0)){_0.length=0;}else{for(var _P in _0)delete _0[_P];}}return _0;};var _bF=_a.recordMatches=function(_bG,_bH){if(!_bG)return!_bH;
if(_H(_bH))return _bH(_bG);for(var _U in _bH){if(_bG[_U]!==_bH[_U])return _i;}return _j;};var _bI=_a.toNumber=function(_F,_bJ){if(typeof _F==_e){if(_F==_F)return _F;}else{if(_H(_F))_F=_F();if(_v(_F))_F=_F.valueOf();}return((_F=_F==_b||_F===''||_F!==_F|| !_bD(_F)?NaN: +_F)!=_F&&arguments.length>1?_bJ:_F);};_a.findRecordNo=function(_bK,_bH,_bL){for(var _bM= -1,_bN=_bK?_bK.length:0;++_bM<_bN;)if(_bF(_bK[_bM],_bH))return _bM;return _Q(_bI(_bL,-1),-1,_bN-1);};_a.findRecord=function(_bK,_bH,_bL){var _bM=_a.findRecordNo(_bK,_bH,_bL);return _bM> -1?_bK[_bM]:null;};var _bO=_a.getClass=function(_bP){return(_bP==_b?_b:typeof _bP=='function'?_bP:_bP.constructor);};_a.getGuid=function(){return'uizeGuid'+_l++;};var _bQ=_a.getPathToLibrary=function(_bR,_bS){if(typeof document!='undefined'&&document.getElementsByTagName){for(var _bT= -1,_bU=document.getElementsByTagName('SCRIPT'),_bV=_bU.length,_bW,_bX;++_bT<_bV;){if((_bX=(_bW=_bU[_bT].src).indexOf(_bR))> -1)return(_bS?_bW.replace(_bR,_bS)
:_bW.slice(0,_bW.lastIndexOf('/',_bX)+1));}}return'';};var _bY=_a.globalEval=new _g('toEval','return eval (toEval)');var _bZ=_a.isInstance=function(_F){return!!(typeof _F==_d&&_F&&_F.constructor.subclass);};_a.nop=new _g;_a.returnFalse=new _g('return false');_a.returnTrue=new _g('return true');_a.returnX=new _g('x','return x');_a.module=function(_b0){function _b1(_bl){_Z(_r[_bl],function(_b2){_b2()});delete _r[_bl];}var _b3=_b0.name||'',_b4=_b3.substr(0,_b3.lastIndexOf('.')),_b5=_b0.superclass||_b4,_b6=_b0.required||[],_b7=[];_r[_b3]||(_r[_b3]=[]);if(_bf(_b6))_b6=_b6.split(',');_b4&&_b6.push(_b4);_b5!=_b4&&_b6.push(_b5);_Z(_b6,function(_b8){_b8&& !_bj(_b8)&&_b7.push(_b8);});function _b9(){var _ca=_b0.builder,_bl=_ca&&_ca(_bj(_b5));_b3&&(new _g('m',_b3+'=m'))(_bl=_s[_b3]=_bl||function(){});if(_H(_bl)){_bl.moduleName=_b3;if(!_bl.subclass)_bl.toString=_cb;}_b1(_b3);}var _cc=_b7.length;if(_cc){var _cd=_a.moduleLoader;if(_cd){var _ce= -1;function _cf(){_ce++;if(_ce<_cc){var _cg=_b7[_ce];_bj(_cg)?_cf():_r[_cg]
?_r[_cg].push(_cf):_cd(_cg,function(_ch){if(_bj(_cg)){_cf();}else{_ch&&_bY(_ch);if(_bj(_cg)){_b1(_cg);_cf();}else{(_r[_cg]||(_r[_cg]=[])).push(_cf);}}});}else{_b9();}}_cf();}else{_b9();}}else{_b9();}};_a.moduleLoader=function(_cg,_ci){_ci();var _cj=document.createElement('script');_cj.type='text/javascript';_cj.src=_a.moduleUrlResolver(_cg);(_o||(_o=document.getElementsByTagName('HEAD')[0])).appendChild(_cj);};_a.moduleUrlResolver=function(_bk){return _a.moduleUrlTemplate.replace(_n,_bk+'.js');};_a.pairUp=function(_ck){var _O={},_bd=arguments.length==1&&_L(_ck)?_ck:arguments,_cl=_bd.length;if(_cl<3){_O[_bd[0]]=_bd[1];}else{for(var _cm= -2;(_cm+=2)<_cl;)_O[_bd[_cm]]=_bd[_cm+1];}return _O;};var _cn=_a.escapeRegExpLiteral=function(_co){return _co.replace(/([\^\$\|\{\}\[\]\(\)\?\.\*\+\\])/g,'\\$1');};_a.substituteInto=function(_0,_cp,_cq){if(!(_0=_0==_b?'':_0+'')||_cp==_b)return _0;if(_bD(_cp))_cp=[_cp];var _cr=(_cq||'[#KEY]').split('KEY'),_cs=[];for(var _ct in _cp)_cs.push(_cn(_ct));return _0.replace(new RegExp(
_cn(_cr[0])+'('+_cs.join('|')+')'+_cn(_cr[1]),'g'),function(_cu,_ct){return _cp[_ct]+''});};_a.noNew=function(_I){var _cv;function _cw(){if(_cv){_cv=_i;return this;}else{var _cx=this;if(_cx==_b||_cx.constructor!=_cw){_cv=_j;_cx=new _cw;}_I.apply(_cx,arguments);return _cx;}}return _cw;};_a.now=new _g('return '+(Date.now?'Date.now()':'+new Date'));var _cb=_a.toString=function(){var _cx=this,_bk=_bO(_cx).moduleName,_cy=_cx.subclass;return('['+(_bZ(_cx)||(!_cy&& !_bk)?_d:_cy?'class':'package')+' '+(_bk||'Function')+']');};_a.moduleName='Uize';_a.moduleUrlTemplate=_bQ('Uize.js',_n);_a.pathToResources=_bQ('Uize.js');return _a;})();